(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[426],{9871:function(e,r,t){Promise.resolve().then(t.bind(t,8793))},6463:function(e,r,t){"use strict";var a=t(1169);t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},8793:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return i}});var a=t(7437),o=t(2265),l=t(6463);function n(){(0,l.useSearchParams)();let[e,r]=(0,o.useState)([]),[t,n]=(0,o.useState)(null),[i,c]=(0,o.useState)(null),s=(0,l.useRouter)();(0,o.useEffect)(()=>{let e=[{id:"1",title:"CX32",cpu:"8 vCPU",ram:"32GB",price:45},{id:"2",title:"CX42",cpu:"16 vCPU",ram:"64GB",price:80},{id:"3",title:"AX101",cpu:"32 vCPU",ram:"128GB",price:130},{id:"4",title:"AX161",cpu:"48 vCPU",ram:"256GB",price:200}];r(e),console.log("\uD83D\uDCE5 Servidores cargados:",e)},[]);let d=[{id:"1",name:"NVIDIA RTX 3060",vram:"12 GB",architecture:"Ampere",price:40},{id:"2",name:"NVIDIA RTX 3070",vram:"8 GB",architecture:"Ampere",price:55},{id:"3",name:"NVIDIA RTX 3080",vram:"10 GB",architecture:"Ampere",price:70},{id:"4",name:"NVIDIA RTX 3090",vram:"24 GB",architecture:"Ampere",price:90},{id:"5",name:"NVIDIA RTX 4070",vram:"12 GB",architecture:"Ada Lovelace",price:80},{id:"6",name:"NVIDIA RTX 4080",vram:"16 GB",architecture:"Ada Lovelace",price:100},{id:"7",name:"NVIDIA RTX 4090",vram:"24 GB",architecture:"Ada Lovelace",price:130},{id:"8",name:"NVIDIA A100",vram:"80 GB",architecture:"Ampere",price:200},{id:"9",name:"NVIDIA H100",vram:"80 GB",architecture:"Hopper",price:250}],u=e=>n(r=>r===e?null:e),m=e=>c(r=>r===e?null:e),x=e.find(e=>e.id===t),b=d.find(e=>e.id===i),p=((null==x?void 0:x.price)||0)+((null==b?void 0:b.price)||0),h=async()=>{if(console.log("▶️ Bot\xf3n continuar pulsado"),!t){alert("Por favor selecciona un servidor antes de continuar."),console.warn("⚠️ No se seleccion\xf3 servidor");return}console.log("\uD83D\uDCE4 Enviando request al backend..."),console.log("Servidor seleccionado:",x),console.log("GPU seleccionada:",b);try{let e=await fetch("/api/create-user-server",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:"usuario-actual-id",serverType:null==x?void 0:x.title,gpuType:(null==b?void 0:b.name)||null,osImage:"ubuntu-22.04"})});if(!e.ok){let r=await e.text();throw console.error("❌ Response text:",r),Error("Error al crear el servidor. Intenta de nuevo.")}let r=await e.json();console.log("✅ Servidor creado:",r),(null==r?void 0:r.hetznerId)?s.push("/create-server?gpuType=".concat(encodeURIComponent((null==b?void 0:b.name)||""),"&serverType=").concat(encodeURIComponent((null==x?void 0:x.title)||""),"&userId=usuario-actual-id")):(alert("Servidor creado pero no se recibi\xf3 ID."),console.warn("⚠️ ID del servidor no recibido:",r))}catch(e){console.error("\uD83D\uDD25 Fetch error:",e),alert(e.message||"Error desconocido")}},v=Math.max(e.length,d.length);return(0,a.jsxs)("div",{className:"w-full max-w-7xl mx-auto mt-10 text-white px-6 min-h-screen pb-20",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-8 text-center text-blue-400",children:"Selecciona tu Servidor y GPU"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,a.jsx)("div",{className:"text-center text-2xl font-semibold text-green-400 border-b border-gray-700 pb-2",children:"Servidores Hetzner"}),(0,a.jsx)("div",{className:"text-center text-2xl font-semibold text-blue-400 border-b border-gray-700 pb-2",children:"GPUs disponibles (Salad)"}),Array.from({length:v}).map((r,l)=>{let n=e[l],c=d[l];return(0,a.jsxs)(o.Fragment,{children:[(0,a.jsx)("div",{children:n?(0,a.jsx)("button",{onClick:()=>u(n.id),disabled:t&&t!==n.id,className:"w-full p-5 rounded-lg text-center border-2 text-2xl font-bold transition-all duration-300 ".concat(t===n.id?"bg-blue-950 border-blue-400 shadow-[0_0_25px_8px_rgba(96,165,250,0.8)] text-blue-300":t&&t!==n.id?"bg-gray-800 border-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-800 border-gray-700 hover:border-blue-400 hover:text-blue-300"),children:n.title}):(0,a.jsx)("div",{className:"h-20"})}),(0,a.jsx)("div",{children:c?(0,a.jsxs)("button",{onClick:()=>m(c.id),disabled:i&&i!==c.id,className:"w-full p-5 rounded-lg text-left border-2 transition-all duration-300 ".concat(i===c.id?"bg-blue-950 border-blue-400 shadow-[0_0_30px_10px_rgba(30,64,175,0.9)] text-blue-300":i&&i!==c.id?"bg-gray-800 border-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-800 border-gray-700 hover:border-blue-400"),children:[(0,a.jsx)("h3",{className:"text-xl font-semibold ".concat(i===c.id?"text-blue-300":""),children:c.name}),(0,a.jsxs)("p",{className:"text-md text-gray-300",children:[c.vram," • ",c.architecture]}),(0,a.jsxs)("p",{className:"text-md text-gray-400",children:[c.price," €/mes"]})]}):(0,a.jsx)("div",{className:"h-20"})})]},l)})]}),(0,a.jsxs)("div",{className:"mt-24 mb-24 w-full",children:[(0,a.jsx)("hr",{className:"border-t-4 border-dashed border-gray-500 mb-12"}),(0,a.jsx)("div",{className:"text-center text-2xl font-semibold text-blue-400 drop-shadow-[0_0_8px_rgba(147,197,253,1)] mb-10",children:p>0?"\uD83D\uDCB0 Total: ".concat(p," €/mes"):"Selecciona un servidor y una GPU para ver el total"}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{onClick:h,disabled:!t,className:"px-8 py-3 text-lg font-semibold rounded-xl transition-all duration-300 ".concat(t?"bg-blue-600 hover:bg-blue-700 shadow-[0_0_20px_4px_rgba(96,165,250,0.8)] text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"),children:"✅ Aceptar y continuar"})})]})]})}function i(){return(0,a.jsx)(o.Suspense,{fallback:(0,a.jsx)("div",{className:"text-center text-gray-400 mt-20",children:"Cargando p\xe1gina..."}),children:(0,a.jsx)(n,{})})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=9871)}),_N_E=e.O()}]);