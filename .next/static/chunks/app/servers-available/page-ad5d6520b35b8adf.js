(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[426],{9871:function(e,r,t){Promise.resolve().then(t.bind(t,3287))},6463:function(e,r,t){"use strict";var a=t(1169);t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}})},3287:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return o},dynamic:function(){return c}});var a=t(7437),i=t(2265),l=t(6463);function n(){let e=(0,l.useRouter)(),[r,t]=(0,i.useState)([]),[n,c]=(0,i.useState)(null),[o,d]=(0,i.useState)(null),[s,u]=(0,i.useState)(!1);(0,i.useEffect)(()=>{t([{id:"1",title:"CX32",cpu:"8 vCPU",ram:"32GB",price:45},{id:"2",title:"CX42",cpu:"16 vCPU",ram:"64GB",price:80},{id:"3",title:"AX101",cpu:"32 vCPU",ram:"128GB",price:130},{id:"4",title:"AX161",cpu:"48 vCPU",ram:"256GB",price:200}])},[]);let m=[{id:"1",name:"NVIDIA RTX 3060",vram:"12 GB",architecture:"Ampere",price:40},{id:"2",name:"NVIDIA RTX 3070",vram:"8 GB",architecture:"Ampere",price:55},{id:"3",name:"NVIDIA RTX 3080",vram:"10 GB",architecture:"Ampere",price:70},{id:"4",name:"NVIDIA RTX 3090",vram:"24 GB",architecture:"Ampere",price:90},{id:"5",name:"NVIDIA RTX 4070",vram:"12 GB",architecture:"Ada Lovelace",price:80},{id:"6",name:"NVIDIA RTX 4080",vram:"16 GB",architecture:"Ada Lovelace",price:100},{id:"7",name:"NVIDIA RTX 4090",vram:"24 GB",architecture:"Ada Lovelace",price:130},{id:"8",name:"NVIDIA A100",vram:"80 GB",architecture:"Ampere",price:200},{id:"9",name:"NVIDIA H100",vram:"80 GB",architecture:"Hopper",price:250}],b=e=>c(r=>r===e?null:e),x=e=>d(r=>r===e?null:e),p=r.find(e=>e.id===n),h=m.find(e=>e.id===o),v=((null==p?void 0:p.price)||0)+((null==h?void 0:h.price)||0),g=async()=>{if(!n){alert("Por favor selecciona un servidor antes de continuar.");return}u(!0);try{let r=await fetch("".concat("https://157.180.118.67:4000","/api/create-user-server"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:"usuario-actual-id",serverType:null==p?void 0:p.title,gpuType:(null==h?void 0:h.name)||null,osImage:"ubuntu-22.04"})}),t=await r.json();if(!r.ok)throw Error(t.error||"Error al crear el servidor");console.log("✅ Servidor creado correctamente:",t),e.push("/server?serverId=".concat(t.hetznerId))}catch(e){console.error("\uD83D\uDD25 Error creando servidor:",e),alert("Error al crear el servidor. Revisa la consola para m\xe1s detalles.")}finally{u(!1)}},f=Math.max(r.length,m.length);return(0,a.jsxs)("div",{className:"w-full max-w-7xl mx-auto mt-10 text-white px-6 min-h-screen pb-20",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-8 text-center text-blue-400",children:"Selecciona tu Servidor y GPU"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,a.jsx)("div",{className:"text-center text-2xl font-semibold text-green-400 border-b border-gray-700 pb-2",children:"Servidores Hetzner"}),(0,a.jsx)("div",{className:"text-center text-2xl font-semibold text-blue-400 border-b border-gray-700 pb-2",children:"GPUs disponibles (Salad)"}),Array.from({length:f}).map((e,t)=>{let l=r[t],c=m[t];return(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)("div",{children:l?(0,a.jsx)("button",{onClick:()=>b(l.id),disabled:n&&n!==l.id,className:"w-full p-5 rounded-lg text-center border-2 text-2xl font-bold transition-all duration-300 ".concat(n===l.id?"bg-blue-950 border-blue-400 shadow-[0_0_25px_8px_rgba(96,165,250,0.8)] text-blue-300":n&&n!==l.id?"bg-gray-800 border-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-800 border-gray-700 hover:border-blue-400 hover:text-blue-300"),children:l.title}):(0,a.jsx)("div",{className:"h-20"})}),(0,a.jsx)("div",{children:c?(0,a.jsxs)("button",{onClick:()=>x(c.id),disabled:o&&o!==c.id,className:"w-full p-5 rounded-lg text-left border-2 transition-all duration-300 ".concat(o===c.id?"bg-blue-950 border-blue-400 shadow-[0_0_30px_10px_rgba(30,64,175,0.9)] text-blue-300":o&&o!==c.id?"bg-gray-800 border-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-800 border-gray-700 hover:border-blue-400"),children:[(0,a.jsx)("h3",{className:"text-xl font-semibold ".concat(o===c.id?"text-blue-300":""),children:c.name}),(0,a.jsxs)("p",{className:"text-md text-gray-300",children:[c.vram," • ",c.architecture]}),(0,a.jsxs)("p",{className:"text-md text-gray-400",children:[c.price," €/mes"]})]}):(0,a.jsx)("div",{className:"h-20"})})]},t)})]}),(0,a.jsxs)("div",{className:"mt-24 mb-24 w-full",children:[(0,a.jsx)("hr",{className:"border-t-4 border-dashed border-gray-500 mb-12"}),(0,a.jsx)("div",{className:"text-center text-2xl font-semibold text-blue-400 mb-10",children:v>0?"\uD83D\uDCB0 Total: ".concat(v," €/mes"):"Selecciona un servidor y una GPU para ver el total"}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{onClick:g,disabled:!n||s,className:"px-8 py-3 text-lg font-semibold rounded-xl transition-all duration-300 ".concat(n&&!s?"bg-blue-600 hover:bg-blue-700 shadow-[0_0_20px_4px_rgba(96,165,250,0.8)] text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"),children:s?"Creando servidor...":"✅ Aceptar y continuar"})})]})]})}let c="force-dynamic";function o(){return(0,a.jsx)(n,{})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=9871)}),_N_E=e.O()}]);